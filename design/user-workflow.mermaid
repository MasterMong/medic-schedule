graph TD
    %% แพทย์
    subgraph "Workflow แพทย์"
        D1[เข้าสู่ระบบ] --> D2[ตรวจสอบรายชื่อผู้ป่วย]
        D2 --> D3[ดูประวัติการรักษา/การให้ยา]
        D3 --> D4[สั่งการรักษา/สั่งยา]
        D4 --> D5[ติดตามผลการรักษา]
        D5 --> D6[ปรับแผนการรักษา]
    end

    %% พยาบาล
    subgraph "Workflow พยาบาล"
        N1[เข้าเวร/รับเวร] --> N2[ตรวจสอบตารางการให้ยา]
        N2 --> N3[รับการแจ้งเตือนการให้ยา]
        N3 --> N4[เตรียมยา]
        N4 --> N5{ตรวจสอบ 7 Rights}
        N5 -->|ผ่าน| N6[ให้ยาผู้ป่วย]
        N5 -->|ไม่ผ่าน| N7[แก้ไข/รายงาน]
        N6 --> N8[บันทึกการให้ยา]
        N8 --> N9[ติดตามอาการ]
    end

    %% เภสัชกร
    subgraph "Workflow เภสัชกร"
        P1[รับคำสั่งยา] --> P2[ตรวจสอบความถูกต้อง]
        P2 --> P3{ตรวจสอบการแพ้ยา/ปฏิกิริยา}
        P3 -->|ผ่าน| P4[จัดยา]
        P3 -->|ไม่ผ่าน| P5[แจ้งแพทย์]
        P4 --> P6[ส่งมอบยา]
        P6 --> P7[บันทึกการจ่ายยา]
    end

    %% หัวหน้าวอร์ด
    subgraph "Workflow หัวหน้าวอร์ด"
        H1[ตรวจสอบภาพรวม] --> H2[จัดตารางพยาบาล]
        H2 --> H3[ติดตามการให้ยา]
        H3 --> H4[ตรวจสอบรายงาน]
        H4 --> H5[จัดการปัญหา]
        H5 --> H6[รายงานผู้บริหาร]
    end
{% for schedule in schedules %}
<div class="py-4 {% if schedule.is_due %}bg-yellow-50{% endif %}">
    <div class="flex justify-between items-start">
        <div>
            <h3 class="font-bold">{{ schedule.patient.name }}</h3>
            <p class="text-sm text-gray-600">
                {{ schedule.medication.name }} {% if schedule.note %}- {{ schedule.note }}{% endif %}
            </p>
            <p class="text-sm text-gray-500">
                Location: Ward {{ schedule.patient.bed.room.ward.ward_name }}, 
                Room {{ schedule.patient.bed.room.room_number }}, 
                Bed {{ schedule.patient.bed.bed_number }}
            </p>
            <p class="text-sm">
                Scheduled: {{ schedule.schedule_time.strftime("%H:%M") }}
            </p>
        </div>
        <div class="space-x-2">
            <button class="bg-blue-500 text-white px-3 py-1 rounded text-sm"
                    onclick="editSchedule('{{ schedule.schedule_id }}')">
                Edit
            </button>
            <button class="bg-green-500 text-white px-3 py-1 rounded text-sm"
                    hx-post="/api/schedules/{{ schedule.schedule_id }}/complete"
                    hx-target="#schedulesList">
                Complete
            </button>
            <button class="bg-red-500 text-white px-3 py-1 rounded text-sm"
                    hx-delete="/api/schedules/{{ schedule.schedule_id }}"
                    hx-confirm="Are you sure you want to delete this schedule?"
                    hx-target="#schedulesList">
                Delete
            </button>
        </div>
    </div>
</div>
{% endfor %}